# ========================================
# Canine AI Settings
# ========================================
# Configuration file for model parameter adjustment
# Edit this file to modify thresholds without changing the code

# Detection Parameters
detection:
  # Minimum confidence for a detection to be considered valid (0.0 - 1.0)
  # Higher values = fewer detections, but more accurate
  # Lower values = more detections, but may include false positives
  confidence_threshold: 0.35
  
  # IoU (Intersection over Union) threshold for NMS (0.0 - 1.0)
  # Controls suppression of overlapping detections
  # Higher values = allows more overlapping boxes
  # Lower values = suppresses more overlapping boxes
  iou_threshold: 0.50
  
  # Maximum number of detections per image
  max_detections: 10
  
  # Image size for inference (pixels)
  # Higher values = more accurate but slower
  # Common values: 320, 416, 640, 1280
  image_size: 640

# Visualization Parameters
visualization:
  # Bounding box line thickness
  line_thickness: 2
  
  # Show class labels
  show_labels: true
  
  # Show confidence in labels
  show_confidence: true
  
  # Confidence format: "percentage" or "decimal"
  confidence_format: "percentage"

# Class Filters
filters:
  # Enable filter for specific classes
  enable_class_filter: false
  
  # List of class IDs to detect (empty = all)
  # Example: [0, 1, 2] to detect only the first 3 breeds
  allowed_classes: []
  
  # Minimum confidence per class (optional)
  # Use when some breeds need different thresholds
  class_specific_confidence: {}
    # Example:
    # 0: 0.3  # Breed ID 0 needs only 30% confidence
    # 15: 0.5 # Breed ID 15 needs 50% confidence

# Performance
performance:
  # Use half precision (FP16) - faster on compatible GPUs
  # IMPORTANT: Keep FALSE for Streamlit Cloud deployment (CPU-only)
  use_half_precision: false
  
  # Device for inference: "cpu", "cuda", "cuda:0", etc.
  # IMPORTANT: Use "cpu" for Streamlit Cloud deployment
  device: "cpu"
  
  # Use TensorRT for optimization (requires separate installation)
  # IMPORTANT: Not available in cloud environments
  use_tensorrt: false

# Interface
interface:
  # Number of columns to display test images
  test_images_columns: 4
  
  # Maximum upload size (MB)
  max_upload_size_mb: 10
  
  # Allowed image formats
  allowed_formats: ["png", "jpg", "jpeg", "webp"]

# Security
security:
  # Check image dimensions before processing
  check_image_dimensions: true
  
  # Maximum allowed dimension (width or height in pixels)
  max_image_dimension: 4096
  
  # Minimum allowed dimension (width or height in pixels)
  min_image_dimension: 32

# Logging and Debug
debug:
  # Show inference time
  show_inference_time: true
  
  # Save processed images
  save_predictions: false
  
  # Directory to save predictions
  predictions_dir: "predictions_monitoring"
  
  # Verbose mode (more information in console)
  verbose: false

# Cache
cache:
  # Enable model cache
  enable_model_cache: true
  
  # Enable data cache
  enable_data_cache: true
  
  # Cache TTL in seconds (0 = infinite)
  cache_ttl: 3600
